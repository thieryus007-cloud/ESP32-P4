<section id="tab-mqtt" class="tab-panel" aria-labelledby="tab-mqtt-label">
  <div class="row g-3">
    <div class="col-xl-6">
      <div class="card h-100">
        <div class="card-header d-flex flex-wrap align-items-center gap-2">
          <h3 class="card-title mb-0">État du broker</h3>
          <button id="mqtt-refresh" class="btn btn-outline-primary btn-sm ms-auto">Actualiser</button>
        </div>
        <div class="card-body">
          <div class="d-flex flex-wrap align-items-center gap-3">
            <span id="mqtt-connection-state" class="badge status-badge">--</span>
            <span id="mqtt-last-error" class="text-secondary small" aria-live="polite">Aucune erreur</span>
          </div>
          <dl class="status-kv mt-3">
            <div><dt>Client</dt><dd id="mqtt-client-started">--</dd></div>
            <div><dt>Wi-Fi</dt><dd id="mqtt-wifi-state">--</dd></div>
            <div><dt>Reconnexions</dt><dd id="mqtt-reconnect-count">0</dd></div>
            <div><dt>Déconnexions</dt><dd id="mqtt-disconnect-count">0</dd></div>
            <div><dt>Erreurs</dt><dd id="mqtt-error-count">0</dd></div>
            <div><dt>Dernier événement</dt><dd id="mqtt-last-event">--</dd></div>
            <div><dt>Horodatage</dt><dd id="mqtt-last-event-time">--</dd></div>
          </dl>
        </div>
      </div>
    </div>
    <div class="col-xl-6">
      <div class="card h-100">
        <div class="card-header">
          <h3 class="card-title mb-0">Répartition des messages</h3>
        </div>
        <div class="card-body">
          <div id="mqtt-messages-chart" class="echart-container" role="img" aria-label="Répartition des messages MQTT"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Configuration Access Card -->
  <div class="row g-3 mt-3">
    <div class="col-12">
      <div class="card">
        <div class="card-body text-center">
          <div class="mb-3">
            <i class="ti ti-settings-cog" style="font-size: 3rem; color: var(--tblr-primary);"></i>
          </div>
          <h3 class="card-title">Configuration MQTT</h3>
          <p class="text-secondary mb-4">
            Configurez votre broker MQTT, les topics personnalisés et les paramètres de connexion.
          </p>
          <a href="/mqtt-config.html" class="btn btn-primary btn-lg">
            <i class="ti ti-settings me-2"></i>
            Accéder à la configuration
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
